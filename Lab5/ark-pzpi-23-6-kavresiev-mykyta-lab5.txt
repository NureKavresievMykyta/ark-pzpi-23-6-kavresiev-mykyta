МІНІСТЕРСТВО ОСВІТИ І НАУКИ УКРАЇНИ
ХАРКІВСЬКИЙ НАЦІОНАЛЬНИЙ УНІВЕРСИТЕТ РАДІОЕЛЕКТРОНІКИ

ФАКУЛЬТЕТ КОМП’ЮТЕРНИХ НАУК
КАТЕДРА ПРОГРАМНОЇ ІНЖЕНЕРІЇ


ЗВІТ
до лабораторної роботи №5
з дисципліни «Аналіз та рефакторинг коду» на тему:
« РОЗГОРТАННЯ ПРОГРАМНОЇ СИСТЕМИ ТА ДЕМОНСТРАЦІЯ ЇЇ РОБОТИ»



Виконав:
ст. гр. ПЗПІ-23-6
Кавресєв Микита


Перевірив:
ас. кафедри ПІ
Дашенков Дмитро Сергійович



Харків 2025
1 ЗАВДАННЯ
     5.1 Мета роботи
     Метою лабораторної роботи є набуття практичних навичок розгортання компонентів програмної системи, налаштування середовища виконання та верифікації працездатності всього комплексу. У ході виконання роботи студент повинен:
1. Розгорнути серверну частину системи з використанням технологій контейнеризації (Docker);
2. Забезпечити роботу клієнтської частини (IoT-емулятора) як нативного додатку;
3. Налаштувати взаємодію з хмарною базою даних;
4. Продемонструвати реалізацію функціональності, описаної у документі Vision & Scope (бізнес-логіка, адміністрування, IoT-взаємодія), використовуючи засоби моніторингу та тестування (Swagger, Postman).
     Результати роботи оформлюються у вигляді звіту з описом інженерних рішень, фрагментами конфігураційних файлів та графічними ілюстраціями роботи системи.


2 ОПИС ВИКОНАНОЇ РОБОТИ
     5.2 Опис інженерних рішень та архітектури розгортання
     Для системи автоматизації офтальмологічної клініки OptiView було обрано гібридну стратегію розгортання, яка імітує реальну виробничу архітектуру медичної установи. Система складається з трьох незалежних компонентів:
1. Серверна частина (Backend): Реалізована на Java (Spring Boot). Для розгортання використано технологію Docker. Це забезпечує ізоляцію середовища виконання, стабільність роботи та незалежність від операційної системи хоста. Сервер працює у контейнері під управлінням Linux-середовища (OpenJDK 17);
2. Клієнтська частина (IoT Client): Реалізована як Desktop-додаток на Java Swing. Розгортання виконано у вигляді нативного додатку для ОС Windows, запуск якого автоматизовано через .bat скрипт. Це відповідає сценарію встановлення ПЗ на робоче місце лікаря;
3. База даних: Використано хмарну платформу Supabase (PostgreSQL). Це дозволяє зберігати дані централізовано та забезпечує доступ до них як для сервера, так і для інструментів адміністрування з будь-якої точки мережі.
     5.3 Розгортання серверної частини (Docker)
     Для контейнеризації сервера було створено файл Dockerfile. В якості базового образу обрано офіційний дистрибутив eclipse-temurin:17-jdk-jammy, який є стандартом для Java-додатків. Конфігурація передбачає копіювання зібраного JAR-архіву та відкриття порту 8080.


Рисунок 5.1 - Файл конфігурації Dockerfile
     Процес розгортання складався з двох етапів: збірка образу (docker build) та запуск контейнера.
     

Рисунок 5.2 - Успішний запуск серверної частини у Docker-контейнері
     5.4 Розгортання клієнтської частини (IoT Emulation)
     Клієнтський додаток емулює роботу приладу "Smart Phoropter". Оскільки клієнт має графічний інтерфейс, його запуск у Docker є недоцільним. Замість цього було створено скрипт автоматизації run_client.bat.
     Цей скрипт вирішує проблему запуску конкретного класу (SmartPhoropterEmulator) із загального JAR-архіву, використовуючи PropertiesLauncher Spring Boot. Також скрипт дозволяє гнучко вказати шлях до Java Runtime Environment.


Рисунок 5.3 - Фрагмент скрипта run_client.bat
     5.5 Демонстрація функціональності та тестування
     5.5.1 Документація API (Swagger) 
     Для взаємодії із зовнішніми системами на сервері підключено Swagger UI. Він надає повний опис усіх контролерів.


Рисунок 5.4 – Інтерфейс Swagger UI з переліком ендпоінтів
     5.5.2 Демонстрація бізнес-логіки та IoT взаємодії
 	Перевірено ключовий сценарій: проведення автоматизованої діагностики.
1. Лікар вводить ID пацієнта в емуляторі;
2. Пристрій генерує показники та відправляє їх на сервер;
3. Сервер зберігає візит, діагноз та показники зору.

Рисунок 5.5 – Успішна передача даних з IoT-пристрою на сервер
     5.5.3 Функції адміністрування (MF-6) 
     За допомогою Postman перевірено можливості адміністратора. Було виконано запит на отримання списку всіх користувачів та зміну статусу (блокування) лікаря. Сервер коректно обробив запити, повертаючи статус 200 OK.

Рисунок 5.6 – Отриманий список всіх користувачів

Рисунок 5.7 – Зміна статусу користувачів через API
     5.5.4 Верифікація даних у БД (MF-1, MF-5)
     Перевірка таблиць у хмарній базі даних Supabase підтвердила цілісність даних. Записи про візити, створені через IoT-клієнт, містять коректні посилання на пацієнтів та лікарів, а також згенеровані діагнози.
     
     
Рисунок 5.8 – Збережені дані візитів у хмарній БД
     5.5.5 Робота з медичними записами (MF-1)
     Перевірено функціональність ведення електронної медичної картки. Створено детальний протокол огляду (Medical Record) для візиту, що включає скарги пацієнта та анамнез. Це є основою для історії хвороби.
* Метод: POST
* URL: /api/medical-records
* Результат: Сервер зберіг текстові дані та прив'язав їх до конкретного візиту.

Рисунок 5.9 – Успішний запит на створення медичного протоколу огляду
     5.5.6 Генерація рецептів (MF-4)
     Протестовано модуль "Електронний конструктор рецептів". На основі проведеного діагностичного візиту було виписано рецепт на окуляри. Система зберегла параметри корекції (сфера, циліндр, вісь) для обох очей.
* Метод: POST
* URL: /api/prescriptions
* Результат: Рецепт успішно створено та пов'язано з медичним записом.


Рисунок 5.10 – Успішний запит на генерацію офтальмологічного рецепта
     5.5.7 Управління довідниками системи (Діагнози)
     Для забезпечення стандартизації медичних даних перевірено роботу з довідником діагнозів (МКХ-10). Додано новий діагноз у систему, який надалі використовується при автоматичному формуванні висновків IoT-пристроєм.
* Метод: POST
* URL: /api/diagnoses
* Результат: Новий запис додано до довідника.


Рисунок 5.11 – Додавання запису до довідника діагнозів


3 ВИСНОВКИ
     У ході виконання лабораторної роботи було успішно реалізовано розгортання програмної системи OptiView.
1. Використання Docker дозволило створити портативний та ізольований серверний компонент, готовий до запуску на будь-якій платформі;
2. Створені скрипти автоматизації для клієнтської частини спростили процес запуску ПЗ на кінцевому робочому місці користувача;
3. Підключення хмарної бази даних Supabase забезпечило надійне зберігання інформації та доступність для всіх модулів системи;
4. Проведене тестування підтвердило повну працездатність бізнес-логіки, коректну обробку IoT-даних та відповідність системи функціональним вимогам Vision & Scope.


ДОДАТОК А
Посилання на відео-демонстрацію: https://youtu.be/oPP_v00zsIU

Хронологічний опис:
00:00 - Вступ та архітектура 
02:21 - Розгортання сервера 
02:39 - Swagger UI 
03:38 - Перевірка API (Postman)
11:00 - Запуск клієнта (.bat) та IoT демонстрація 
13:02 - Висновки

Посилання на GitHub репозиторій: https://github.com/NureKavresievMykyta/OptiView




2










